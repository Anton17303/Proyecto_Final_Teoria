machine:
  q_states:
    q_list: ['q0', 'q_mark_left_a', 'q_mark_left_b', 'q_swap', 'q_accept']
    initial: 'q0'
    final: ['q_accept']

  alphabet:
    input: ['a', 'b']
    tape: ['a', 'b', 'A', 'B', '#']

  blank: '#'

  delta:

    # ---------- q0: buscar primer sÃ­mbolo sin marcar ----------
    - params:
        initial_state: 'q0'
        tape_input: 'A'
      output:
        final_state: 'q0'
        tape_output: 'A'
        tape_displacement: 'R'

    - params:
        initial_state: 'q0'
        tape_input: 'B'
      output:
        final_state: 'q0'
        tape_output: 'B'
        tape_displacement: 'R'

    # Marca 'a'
    - params:
        initial_state: 'q0'
        tape_input: 'a'
      output:
        final_state: 'q_mark_left_a'
        tape_output: 'A'
        tape_displacement: 'R'

    # Marca 'b'
    - params:
        initial_state: 'q0'
        tape_input: 'b'
      output:
        final_state: 'q_mark_left_b'
        tape_output: 'B'
        tape_displacement: 'R'

    # Si encuentra #
    - params:
        initial_state: 'q0'
        tape_input: '#'
      output:
        final_state: 'q_accept'
        tape_output: '#'
        tape_displacement: 'S'


    # ---------- Recorrer hasta el final para A ----------
    - params:
        initial_state: 'q_mark_left_a'
        tape_input: 'a'
      output:
        final_state: 'q_mark_left_a'
        tape_output: 'a'
        tape_displacement: 'R'

    - params:
        initial_state: 'q_mark_left_a'
        tape_input: 'b'
      output:
        final_state: 'q_mark_left_a'
        tape_output: 'b'
        tape_displacement: 'R'

    - params:
        initial_state: 'q_mark_left_a'
        tape_input: 'A'
      output:
        final_state: 'q_mark_left_a'
        tape_output: 'A'
        tape_displacement: 'R'

    - params:
        initial_state: 'q_mark_left_a'
        tape_input: 'B'
      output:
        final_state: 'q_mark_left_a'
        tape_output: 'B'
        tape_displacement: 'R'

    - params:
        initial_state: 'q_mark_left_a'
        tape_input: '#'
      output:
        final_state: 'q_swap'
        tape_output: '#'
        tape_displacement: 'L'


    # ---------- Recorrer hasta el final para B ----------
    - params:
        initial_state: 'q_mark_left_b'
        tape_input: 'a'
      output:
        final_state: 'q_mark_left_b'
        tape_output: 'a'
        tape_displacement: 'R'

    - params:
        initial_state: 'q_mark_left_b'
        tape_input: 'b'
      output:
        final_state: 'q_mark_left_b'
        tape_output: 'b'
        tape_displacement: 'R'

    - params:
        initial_state: 'q_mark_left_b'
        tape_input: 'A'
      output:
        final_state: 'q_mark_left_b'
        tape_output: 'A'
        tape_displacement: 'R'

    - params:
        initial_state: 'q_mark_left_b'
        tape_input: 'B'
      output:
        final_state: 'q_mark_left_b'
        tape_output: 'B'
        tape_displacement: 'R'

    - params:
        initial_state: 'q_mark_left_b'
        tape_input: '#'
      output:
        final_state: 'q_swap'
        tape_output: '#'
        tape_displacement: 'L'


    # ---------- q_swap: intercambiar y regresar ----------
    - params:
        initial_state: 'q_swap'
        tape_input: 'a'
      output:
        final_state: 'q_accept'
        tape_output: 'A'
        tape_displacement: 'L'

    - params:
        initial_state: 'q_swap'
        tape_input: 'b'
      output:
        final_state: 'q_accept'
        tape_output: 'B'
        tape_displacement: 'L'

simulation_strings:
  - ababa
  - aabbbb
  - baaaba
  - abbabb